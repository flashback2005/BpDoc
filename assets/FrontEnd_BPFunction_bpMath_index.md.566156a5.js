import{_ as s,o as a,c as n,Q as p}from"./chunks/framework.a65da182.js";const h=JSON.parse('{"title":"关于计算","description":"","frontmatter":{},"headers":[],"relativePath":"FrontEnd/BPFunction/bpMath/index.md","filePath":"FrontEnd/BPFunction/bpMath/index.md","lastUpdated":1693991387000}'),l={name:"FrontEnd/BPFunction/bpMath/index.md"},o=p(`<h1 id="关于计算" tabindex="-1">关于计算 <a class="header-anchor" href="#关于计算" aria-label="Permalink to &quot;关于计算&quot;">​</a></h1><p>由于 js 精度不准确的问题：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">0.1</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.3</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// false</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">0.1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.3</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// false</span></span></code></pre></div><p>所以，凡是与计算有关的，可使用<code>bpMath</code></p><h2 id="加减乘除" tabindex="-1">加减乘除 <a class="header-anchor" href="#加减乘除" aria-label="Permalink to &quot;加减乘除&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpAdd</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;0.1&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.2&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.3&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 即:0.1+0.2+0.3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpAdd</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;0.1&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.2&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.3&#39;</span><span style="color:#E1E4E8;">, { deci: </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;"> }); </span><span style="color:#6A737D;">// 约3位小数，四舍五入</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpAdd</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;0.1&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.2&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.3&#39;</span><span style="color:#E1E4E8;">, { deci: </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;"> }); </span><span style="color:#6A737D;">// 约3位小数，并向下约</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpAdd</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;0.1&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.2&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.3&#39;</span><span style="color:#E1E4E8;">, { hex: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;"> }); </span><span style="color:#6A737D;">// 转成ethers的16进制的bigNumber</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpAdd</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;0.1&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.2&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.3&#39;</span><span style="color:#E1E4E8;">, { hex: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, deci: </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;"> }); </span><span style="color:#6A737D;">// 转成ethers的16进制的bigNumber, 精度位3</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">t</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpAdd</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;0.1&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.2&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.3&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// 即:0.1+0.2+0.3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">t</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpAdd</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;0.1&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.2&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.3&#39;</span><span style="color:#24292E;">, { deci: </span><span style="color:#005CC5;">3</span><span style="color:#24292E;"> }); </span><span style="color:#6A737D;">// 约3位小数，四舍五入</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">t</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpAdd</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;0.1&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.2&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.3&#39;</span><span style="color:#24292E;">, { deci: </span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">3</span><span style="color:#24292E;"> }); </span><span style="color:#6A737D;">// 约3位小数，并向下约</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">t</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpAdd</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;0.1&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.2&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.3&#39;</span><span style="color:#24292E;">, { hex: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;"> }); </span><span style="color:#6A737D;">// 转成ethers的16进制的bigNumber</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">t</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpAdd</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;0.1&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.2&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.3&#39;</span><span style="color:#24292E;">, { hex: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, deci: </span><span style="color:#005CC5;">3</span><span style="color:#24292E;"> }); </span><span style="color:#6A737D;">// 转成ethers的16进制的bigNumber, 精度位3</span></span></code></pre></div><h4 id="减法" tabindex="-1">减法 <a class="header-anchor" href="#减法" aria-label="Permalink to &quot;减法&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpSub</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;0.1&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.2&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.3&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 即:0.1 - 0.2 - 0.3</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">t</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpSub</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;0.1&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.2&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.3&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// 即:0.1 - 0.2 - 0.3</span></span></code></pre></div><h4 id="乘法" tabindex="-1">乘法 <a class="header-anchor" href="#乘法" aria-label="Permalink to &quot;乘法&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpMul</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;0.1&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.2&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.3&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 即:0.1 * 0.2 * 0.3</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">t</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpMul</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;0.1&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.2&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.3&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// 即:0.1 * 0.2 * 0.3</span></span></code></pre></div><h4 id="除法" tabindex="-1">除法 <a class="header-anchor" href="#除法" aria-label="Permalink to &quot;除法&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpDiv</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;0.1&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.2&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;0.3&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 即:0.1 * 0.2 * 0.3</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">t</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpDiv</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;0.1&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.2&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;0.3&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// 即:0.1 * 0.2 * 0.3</span></span></code></pre></div><h4 id="一些与合约交互的时候-需要带上精度" tabindex="-1">一些与合约交互的时候，需要带上精度 <a class="header-anchor" href="#一些与合约交互的时候-需要带上精度" aria-label="Permalink to &quot;一些与合约交互的时候，需要带上精度&quot;">​</a></h4><p>比如 bsc 中 USDT 的精度为 18，触发 transfer：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">cloneAmount</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpMul</span><span style="color:#E1E4E8;">(amount, </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">**</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">18</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">status</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpWrite</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  { success: </span><span style="color:#B392F0;">$t</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;msg.5&#39;</span><span style="color:#E1E4E8;">) },</span></span>
<span class="line"><span style="color:#E1E4E8;">  coinObj.value.transfer,</span></span>
<span class="line"><span style="color:#E1E4E8;">  收款地址,</span></span>
<span class="line"><span style="color:#E1E4E8;">  cloneAmount</span></span>
<span class="line"><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">cloneAmount</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpMul</span><span style="color:#24292E;">(amount, </span><span style="color:#005CC5;">10</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">**</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">18</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">status</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpWrite</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  { success: </span><span style="color:#6F42C1;">$t</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;msg.5&#39;</span><span style="color:#24292E;">) },</span></span>
<span class="line"><span style="color:#24292E;">  coinObj.value.transfer,</span></span>
<span class="line"><span style="color:#24292E;">  收款地址,</span></span>
<span class="line"><span style="color:#24292E;">  cloneAmount</span></span>
<span class="line"><span style="color:#24292E;">);</span></span></code></pre></div><h2 id="两个数的比较" tabindex="-1">两个数的比较 <a class="header-anchor" href="#两个数的比较" aria-label="Permalink to &quot;两个数的比较&quot;">​</a></h2><h4 id="a-b" tabindex="-1">a &lt; b? <a class="header-anchor" href="#a-b" aria-label="Permalink to &quot;a &lt; b?&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpLt</span><span style="color:#E1E4E8;">(a, b);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpLt</span><span style="color:#24292E;">(a, b);</span></span></code></pre></div><h4 id="a-b-1" tabindex="-1">a &lt;= b? <a class="header-anchor" href="#a-b-1" aria-label="Permalink to &quot;a &lt;= b?&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpLte</span><span style="color:#E1E4E8;">(a, b);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpLte</span><span style="color:#24292E;">(a, b);</span></span></code></pre></div><h4 id="a-b-2" tabindex="-1">a &gt; b? <a class="header-anchor" href="#a-b-2" aria-label="Permalink to &quot;a &gt; b?&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpGt</span><span style="color:#E1E4E8;">(a, b);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpGt</span><span style="color:#24292E;">(a, b);</span></span></code></pre></div><h4 id="a-b-3" tabindex="-1">a &gt;= b? <a class="header-anchor" href="#a-b-3" aria-label="Permalink to &quot;a &gt;= b?&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpGte</span><span style="color:#E1E4E8;">(a, b);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpGte</span><span style="color:#24292E;">(a, b);</span></span></code></pre></div><h2 id="将普通字符串转为-ethers16-进制的-bignumber" tabindex="-1">将普通字符串转为 ethers16 进制的 bigNumber <a class="header-anchor" href="#将普通字符串转为-ethers16-进制的-bignumber" aria-label="Permalink to &quot;将普通字符串转为 ethers16 进制的 bigNumber&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">cloneNum</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpEthHex</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;99&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">18</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">cloneNum</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpEthHex</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;99&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">18</span><span style="color:#24292E;">);</span></span></code></pre></div><h2 id="将-ethers-的-16-进制-bignumber-转为-string" tabindex="-1">将 ethers 的 16 进制 bigNumber 转为 String <a class="header-anchor" href="#将-ethers-的-16-进制-bignumber-转为-string" aria-label="Permalink to &quot;将 ethers 的 16 进制 bigNumber 转为 String&quot;">​</a></h2><h4 id="转为整数" tabindex="-1">转为整数 <a class="header-anchor" href="#转为整数" aria-label="Permalink to &quot;转为整数&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">num</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpFormat</span><span style="color:#E1E4E8;">(bigNum);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">num</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpFormat</span><span style="color:#24292E;">(bigNum);</span></span></code></pre></div><h4 id="保留-3-位小数-并四舍五入" tabindex="-1">保留 3 位小数，并四舍五入 <a class="header-anchor" href="#保留-3-位小数-并四舍五入" aria-label="Permalink to &quot;保留 3 位小数，并四舍五入&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">num</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpFormat</span><span style="color:#E1E4E8;">(bigNum, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">num</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpFormat</span><span style="color:#24292E;">(bigNum, </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">);</span></span></code></pre></div><h4 id="保留-3-位小数-并向下取" tabindex="-1">保留 3 位小数，并向下取 <a class="header-anchor" href="#保留-3-位小数-并向下取" aria-label="Permalink to &quot;保留 3 位小数，并向下取&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">num</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpFormat</span><span style="color:#E1E4E8;">(bigNum, </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">num</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpFormat</span><span style="color:#24292E;">(bigNum, </span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">);</span></span></code></pre></div><h4 id="bignumber-来自是-6-位精度的-转为带-3-位小数" tabindex="-1">bigNumber 来自是 6 位精度的, 转为带 3 位小数 <a class="header-anchor" href="#bignumber-来自是-6-位精度的-转为带-3-位小数" aria-label="Permalink to &quot;bigNumber 来自是 6 位精度的, 转为带 3 位小数&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">num</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpFormat</span><span style="color:#E1E4E8;">(bigNum, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">6</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">num</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpFormat</span><span style="color:#24292E;">(bigNum, </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">6</span><span style="color:#24292E;">);</span></span></code></pre></div><h2 id="将一个数进行四舍五入" tabindex="-1">将一个数进行四舍五入 <a class="header-anchor" href="#将一个数进行四舍五入" aria-label="Permalink to &quot;将一个数进行四舍五入&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">num</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpFixed</span><span style="color:#E1E4E8;">(bigNum, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">num</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpFixed</span><span style="color:#24292E;">(bigNum, </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">);</span></span></code></pre></div><h4 id="四舍五入-不足补-0" tabindex="-1">四舍五入，不足补 0 <a class="header-anchor" href="#四舍五入-不足补-0" aria-label="Permalink to &quot;四舍五入，不足补 0&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">num</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpFixed</span><span style="color:#E1E4E8;">(bigNum, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">num</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpFixed</span><span style="color:#24292E;">(bigNum, </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">);</span></span></code></pre></div><h2 id="将一个数向下取" tabindex="-1">将一个数向下取 <a class="header-anchor" href="#将一个数向下取" aria-label="Permalink to &quot;将一个数向下取&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">num</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpFloor</span><span style="color:#E1E4E8;">(bigNum, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">num</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpFloor</span><span style="color:#24292E;">(bigNum, </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">);</span></span></code></pre></div><h4 id="向下取-不足补-0" tabindex="-1">向下取，不足补 0 <a class="header-anchor" href="#向下取-不足补-0" aria-label="Permalink to &quot;向下取，不足补 0&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">num</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bpFloor</span><span style="color:#E1E4E8;">(bigNum, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">num</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bpFloor</span><span style="color:#24292E;">(bigNum, </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">);</span></span></code></pre></div><h2 id="bpempty" tabindex="-1">bpEmpty <a class="header-anchor" href="#bpempty" aria-label="Permalink to &quot;bpEmpty&quot;">​</a></h2><p>判断一个数据是否为空，返回 true 则为空</p><ol><li><p>可以判断 vue 的 ref</p></li><li><p>如果是对象，所有 value 为空，则这个数据也为空</p></li></ol><h2 id="simplezero" tabindex="-1">simpleZero <a class="header-anchor" href="#simplezero" aria-label="Permalink to &quot;simpleZero&quot;">​</a></h2><p>将小数前面的 0 简写</p><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>参数一</td><td>string</td><td>要修改的字符串</td></tr><tr><td>参数二</td><td>number</td><td>足够 0 开始的长度（默认 2：前面超过 2 个 0 才执行）</td></tr><tr><td>参数三</td><td>number</td><td>截取的长度（默认 4：截取{0}后面最多 4 个非 0 数）</td></tr></tbody></table><pre><code>&quot;3.00000014&quot;  ---&gt;  &quot;3.{6}14&quot;
</code></pre><p>即：这里的<code>{6}</code>表示小数的前方有 6 个 0</p><p>即：这里将小数前面的 6 个 0 简写成<code>{6}</code></p><p>只有符合这种前面带 0 的格式才会被转换，否则直接打回原数据</p><p>注意：一般联合<code>bpDiv</code>使用，而不是联合<code>bpFormat</code>使用</p><h4 id="例子" tabindex="-1">例子： <a class="header-anchor" href="#例子" aria-label="Permalink to &quot;例子：&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">simpleZero</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">bpDiv</span><span style="color:#E1E4E8;">(val, </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">**</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">18</span><span style="color:#E1E4E8;">));</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">simpleZero</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">bpDiv</span><span style="color:#24292E;">(val, </span><span style="color:#005CC5;">10</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">**</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">18</span><span style="color:#24292E;">));</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">simpleZero</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">bpDiv</span><span style="color:#E1E4E8;">(val, </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">**</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">18</span><span style="color:#E1E4E8;">), </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">simpleZero</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">bpDiv</span><span style="color:#24292E;">(val, </span><span style="color:#005CC5;">10</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">**</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">18</span><span style="color:#24292E;">), </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">);</span></span></code></pre></div>`,57),e=[o];function t(c,r,y,E,i,d){return a(),n("div",null,e)}const b=s(l,[["render",t]]);export{h as __pageData,b as default};
